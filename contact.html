<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact | Form&Function Studio</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#8B5CF6',
                        'primary-dark': '#7C3AED',
                        accent: '#F87171',
                        light: '#F9FAFB',
                        'light-alt': '#F3F4F6',
                        dark: '#1F2937',
                        'dark-deep': '#111827',
                        muted: '#6B7280',
                    },
                    fontFamily: {
                        display: ['Poppins', 'sans-serif'],
                        body: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>

    <style>
        :root {
            --color-primary: #8B5CF6;
            --color-light: #F9FAFB;
            --color-light-alt: #F3F4F6;
            --color-dark: #1F2937;
            --color-muted: #6B7280;
        }

        body {
            background-color: var(--color-light);
            font-family: 'Inter', sans-serif;
            margin: 0;
        }
        
        /* Header Styles */
        .main-header {
            transition: background-color 0.3s ease, box-shadow 0.3s ease, padding 0.3s ease;
        }
        .main-nav a .underline-anim {
            transform: scaleX(0);
            transform-origin: center;
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .main-nav a:hover .underline-anim {
            transform: scaleX(1);
        }

        /* Page Hero Styles */
        .page-hero {
            position: relative;
            height: 60vh;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
            background-color: var(--color-light-alt);
        }
        #contact-hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .page-hero-content {
            position: relative;
            z-index: 1;
        }
        .page-hero h1 {
            font-size: clamp(2.5rem, 6vw, 4rem);
        }
        .page-hero p {
            font-size: 1.25rem;
            margin-top: 1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Contact Section Styles */
        .contact-section {
            padding-top: 6rem;
            padding-bottom: 6rem;
        }
        .contact-grid {
            align-items: flex-start;
        }
        .contact-info h3, .contact-form h3 {
            font-size: clamp(1.5rem, 4vw, 2rem);
        }
        .contact-info p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }
        .map-container {
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
            height: 400px;
            margin-top: 2rem;
        }
        .map-container iframe {
            border: 0;
            width: 100%;
            height: 100%;
        }

        /* Form Styles */
        .contact-form .form-group {
            margin-bottom: 1.5rem;
        }
        .contact-form label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--color-dark);
        }
        .contact-form .form-control {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #D1D5DB;
            border-radius: 0.5rem;
            background-color: white;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .contact-form .form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
        }
        
        /* Footer Styles */
        .main-footer {
            background-color: var(--color-dark);
        }
        .footer-link {
            text-decoration: none;
            font-weight: 500;
        }

        /* Animation Utility Classes */
        .line-reveal { display: block; overflow: hidden; }
        .line-reveal > span { display: block; transform: translateY(110%); }
        .will-animate { opacity: 0; transform: translateY(30px); }
    </style>
</head>
<body class="bg-light font-body">

    <!-- Header Component -->
    <header id="main-header" class="fixed top-0 left-0 w-full z-50 py-5">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="index.html" class="font-display text-2xl font-bold text-dark transition-transform hover:scale-105">
                Form&Function Studio
            </a>
            <nav class="main-nav hidden md:flex items-center space-x-8">
                <a href="service.html" class="font-medium text-dark relative"><span>Services</span><span class="underline-anim absolute bottom-0 left-0 w-full h-0.5 bg-primary"></span></a>
                <a href="about.html" class="font-medium text-dark relative"><span>About</span><span class="underline-anim absolute bottom-0 left-0 w-full h-0.5 bg-primary"></span></a>
                <a href="studio.html" class="font-medium text-dark relative"><span>The Studio</span><span class="underline-anim absolute bottom-0 left-0 w-full h-0.5 bg-primary"></span></a>
                <a href="contact.html" class="font-medium text-dark relative"><span>Contact</span><span class="underline-anim absolute bottom-0 left-0 w-full h-0.5 bg-primary scale-x-100"></span></a>
            </nav>
            <div class="flex items-center space-x-4">
                <a href="contact.html" class="hidden md:inline-block bg-primary text-white font-display font-semibold px-5 py-2 rounded-lg hover:bg-primary-dark transition-transform hover:-translate-y-0.5 shadow-sm hover:shadow-lg">
                    Book a Session
                </a>
                <button id="mobile-menu-toggle" class="md:hidden z-50 p-2" aria-label="Toggle Menu">
                    <div class="w-7 h-7 flex flex-col justify-around">
                        <span id="bar1" class="block w-full h-0.5 bg-dark rounded-full transition-transform duration-300 ease-in-out"></span>
                        <span id="bar2" class="block w-full h-0.5 bg-dark rounded-full transition-opacity duration-300 ease-in-out"></span>
                        <span id="bar3" class="block w-full h-0.5 bg-dark rounded-full transition-transform duration-300 ease-in-out"></span>
                    </div>
                </button>
            </div>
        </div>
    </header>
    <div id="mobile-nav-panel" class="fixed top-0 left-0 w-full h-full bg-light z-40 transform translate-x-full transition-transform duration-300 ease-in-out">
        <nav class="h-full flex flex-col justify-center items-center space-y-8">
            <a href="service.html" class="font-display text-3xl text-dark">Services</a>
            <a href="about.html" class="font-display text-3xl text-dark">About</a>
            <a href="studio.html" class="font-display text-3xl text-dark">The Studio</a>
            <a href="contact.html" class="font-display text-3xl text-dark">Contact</a>
        </nav>
    </div>

    <main>
        <!-- Page Hero Component -->
        <section class="page-hero">
            <canvas id="contact-hero-canvas"></canvas>
            <div class="page-hero-content">
                <h1 class="font-display text-dark">
                    <span class="line-reveal"><span>Get in Touch</span></span>
                </h1>
                <p class="text-dark font-medium will-animate">
                    We're here to answer your questions and help you start your journey.
                </p>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="contact-section">
            <div class="container mx-auto px-6">
                <div class="contact-grid grid md:grid-cols-2 gap-8 md:gap-16">
                    <!-- Left Column: Info & Map -->
                    <div class="contact-info will-animate">
                        <h3 class="font-display text-dark">Contact Information</h3>
                        <p class="text-muted">
                            <strong>Address:</strong><br>
                            5810 STE A-1 South HWY 95<br>
                            Fort Mohave, AZ 86426
                        </p>
                        <p class="text-muted">
                            <strong>Email:</strong><br>
                            <a href="mailto:studio@formandfunction.com" class="text-primary hover:text-accent">studio@formandfunction.com</a>
                        </p>
                        <p class="text-muted">
                            <strong>Hours:</strong><br>
                            Monday – Friday: 6:00 AM – 7:00 PM<br>
                            Saturday: 8:00 AM – 1:00 PM
                        </p>
                        <div class="map-container">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3278.303914555845!2d-114.6186762847656!3d34.99912098022809!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80d110a3a4b0f347%3A0x8e8a6f3b0f5b9c0!2s5810%20S%20Highway%2095%20A-1%2C%20Fort%20Mohave%2C%20AZ%2086426%2C%20USA!5e0!3m2!1sen!2s!4v1626447493633!5m2!1sen!2s" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>

                    <!-- Right Column: Form -->
                    <div class="contact-form will-animate">
                        <h3 class="font-display text-dark">Send a Message</h3>
                        <form id="contactForm" action="YOUR_BACKEND_ENDPOINT" method="POST">
                            <div class="form-group">
                                <label for="name">Name</label>
                                <input type="text" id="name" name="name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="message">Message</label>
                                <textarea id="message" name="message" rows="5" class="form-control" required></textarea>
                            </div>
                            <button type="submit" class="bg-primary text-white font-display font-semibold px-8 py-3 rounded-lg hover:shadow-lg transition-transform hover:-translate-y-0.5">
                                Send Message
                            </button>
                            <div id="form-status" class="mt-4"></div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Component -->
    <footer class="main-footer bg-dark content-section py-16">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-3 gap-8 text-center md:text-left">
                <div class="will-animate">
                    <h3 class="font-display text-2xl text-white">Form&Function Studio</h3>
                    <p class="text-muted mt-4">&copy; <span id="year"></span> | Fort Mohave, AZ</p>
                </div>
                <div class="will-animate">
                    <h4 class="font-display text-lg text-white">Location</h4>
                    <address class="text-muted mt-4 not-italic">
                        5810 STE A-1 South HWY 95<br>Fort Mohave, AZ 86426
                    </address>
                </div>
                <div class="will-animate">
                    <h4 class="font-display text-lg text-white">Get In Touch</h4>
                     <a href="mailto:studio@formandfunction.com" class="footer-link text-primary hover:text-accent mt-4 inline-block">studio@formandfunction.com</a>
                </div>
            </div>
        </footer>

    <!-- JS Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script type="importmap">
        { "imports": { "three": "https://cdn.jsdelivr.net/npm/three@0.156.1/build/three.module.js" } }
    </script>

    <!-- Embedded JavaScript -->
    <script type="module">
        import * as THREE from 'three';

        // --- HEADER LOGIC ---
        function initializeHeader() {
            const header = document.getElementById('main-header');
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const mobileNavPanel = document.getElementById('mobile-nav-panel');
            const bar1 = document.getElementById('bar1');
            const bar2 = document.getElementById('bar2');
            const bar3 = document.getElementById('bar3');

            window.addEventListener('scroll', () => {
                if (window.scrollY > 20) {
                    header.classList.add('bg-light/85', 'backdrop-blur-lg', 'shadow-md', 'py-3');
                    header.classList.remove('py-5');
                } else {
                    header.classList.remove('bg-light/85', 'backdrop-blur-lg', 'shadow-md', 'py-3');
                    header.classList.add('py-5');
                }
            });

            mobileMenuToggle.addEventListener('click', () => {
                const isMenuOpen = mobileNavPanel.classList.toggle('translate-x-full');
                bar1.classList.toggle('rotate-45', !isMenuOpen);
                bar1.classList.toggle('translate-y-[9px]', !isMenuOpen);
                bar2.classList.toggle('opacity-0', !isMenuOpen);
                bar3.classList.toggle('-rotate-45', !isMenuOpen);
                bar3.classList.toggle('-translate-y-[9px]', !isMenuOpen);
                document.body.style.overflow = isMenuOpen ? '' : 'hidden';
            });

            mobileNavPanel.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => mobileMenuToggle.click());
            });
        }

        // --- ANIMATIONS ---
        function initializeAnimations() {
            if (typeof gsap === 'undefined') return;
            gsap.registerPlugin(ScrollTrigger);

            const tl = gsap.timeline({ delay: 0.3 });
            tl.to('.page-hero .line-reveal > span', { y: 0, ease: "power3.out", duration: 1.5 })
              .to('.page-hero .will-animate', { opacity: 1, y: 0, ease: "power3.out", duration: 1 }, "-=1.2");

            const animatedElements = document.querySelectorAll('.will-animate');
            animatedElements.forEach(el => {
                if (el.closest('.page-hero')) return;
                gsap.fromTo(el, { opacity: 0, y: 30 }, {
                    scrollTrigger: { trigger: el, start: "top 85%", toggleActions: "play none none none" },
                    opacity: 1, y: 0, duration: 1, ease: "power3.out", stagger: 0.1
                });
            });
        }

        // --- 3D BACKGROUND (FITNESS-THEMED) ---
        function initializeContactHero() {
            const canvas = document.getElementById('contact-hero-canvas');
            if (!canvas) return;

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, canvas.offsetWidth / canvas.offsetHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
            renderer.setSize(canvas.offsetWidth, canvas.offsetHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            camera.position.z = 50;

            const particleCount = 10000;
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
            const primaryColor = new THREE.Color(0x8B5CF6);
            const accentColor = new THREE.Color(0xF87171);
            const radius = 100;

            for (let i = 0; i < particleCount; i++) {
                const i3 = i * 3;
                
                // Distribute particles in a galaxy-like spiral
                const r = Math.random() * radius;
                const spinAngle = r * 0.5;
                const branchAngle = (i % 3) / 3 * Math.PI * 2;

                const randomX = Math.pow(Math.random(), 2) * (Math.random() < 0.5 ? 1 : -1) * 0.5;
                const randomY = Math.pow(Math.random(), 2) * (Math.random() < 0.5 ? 1 : -1) * 0.5;
                const randomZ = Math.pow(Math.random(), 2) * (Math.random() < 0.5 ? 1 : -1) * 0.5;

                positions[i3] = Math.cos(branchAngle + spinAngle) * r + randomX;
                positions[i3 + 1] = randomY;
                positions[i3 + 2] = Math.sin(branchAngle + spinAngle) * r + randomZ;

                // Assign colors, mixing primary and accent
                const mixedColor = primaryColor.clone();
                mixedColor.lerp(accentColor, r / radius);

                colors[i3] = mixedColor.r;
                colors[i3 + 1] = mixedColor.g;
                colors[i3 + 2] = mixedColor.b;
            }

            const geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            
            const material = new THREE.PointsMaterial({
                size: 0.3,
                sizeAttenuation: true,
                depthWrite: false,
                blending: THREE.AdditiveBlending,
                vertexColors: true
            });

            const particles = new THREE.Points(geometry, material);
            scene.add(particles);

            const mouse = new THREE.Vector2();
            window.addEventListener('mousemove', (event) => {
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            });

            const clock = new THREE.Clock();
            const animate = () => {
                const elapsedTime = clock.getElapsedTime();
                particles.rotation.y = -elapsedTime * 0.08;

                // Gently move camera with mouse for an interactive feel
                camera.position.x += (mouse.x * 5 - camera.position.x) * 0.05;
                camera.position.y += (-mouse.y * 5 - camera.position.y) * 0.05;
                camera.lookAt(scene.position);

                renderer.render(scene, camera);
                requestAnimationFrame(animate);
            };
            animate();

            window.addEventListener('resize', () => {
                renderer.setSize(canvas.offsetWidth, canvas.offsetHeight);
                camera.aspect = canvas.offsetWidth / canvas.offsetHeight;
                camera.updateProjectionMatrix();
            });
        }


        // --- FORM SUBMISSION LOGIC ---
        function initializeForm() {
            const form = document.getElementById('contactForm');
            const statusDiv = document.getElementById('form-status');

            if (!form) return;

            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                const formData = new FormData(form);
                const button = form.querySelector('button');
                
                button.disabled = true;
                button.textContent = 'Sending...';
                statusDiv.textContent = '';

                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    if (response.ok) {
                        statusDiv.textContent = 'Thanks for your message! We will get back to you soon.';
                        statusDiv.className = 'mt-4 text-green-600';
                        form.reset();
                    } else {
                        const data = await response.json();
                        if (Object.hasOwn(data, 'errors')) {
                            statusDiv.textContent = data["errors"].map(error => error["message"]).join(", ");
                        } else {
                            statusDiv.textContent = 'Oops! There was a problem submitting your form.';
                        }
                        statusDiv.className = 'mt-4 text-red-600';
                    }
                } catch (error) {
                    statusDiv.textContent = 'Oops! There was a network error.';
                    statusDiv.className = 'mt-4 text-red-600';
                } finally {
                    button.disabled = false;
                    button.textContent = 'Send Message';
                }
            });
        }


        // --- INITIALIZE EVERYTHING ---
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('year').textContent = new Date().getFullYear();
            initializeHeader();
            initializeAnimations();
            initializeContactHero();
            initializeForm();
        });
    </script>
</body>
</html>
